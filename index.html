<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title id="meta-title">LP</title>
<meta name="description" id="meta-desc" content="">
<link rel="canonical" id="meta-canonical" href="#">
<meta property="og:type" content="website">
<meta property="og:title" id="og-title" content="">
<meta property="og:description" id="og-desc" content="">
<meta property="og:url" id="og-url" content="">
<meta property="og:image" id="og-image" content="">
<meta name="theme-color" id="meta-theme" content="#ffffff">
<link rel="icon" href="/assets/favicon.ico">
<link rel="stylesheet" href="style.css?v=3">
<style>
  :root { --accent:#2a7ae2; --brand:#114488; }
  .hidden{display:none}
</style>
</head>
<body>
  <!-- Hero -->
  <section class="lp-hero">
    <img id="logo" alt="Logo" class="lp-logo-under-hero hidden" />
    <h1 id="hero-headline"></h1>
    <p id="hero-sub"></p>
    <div class="lp-hero-image"><img id="hero-image" alt="Hero"></div>
  </section>

  <section class="lp-section">
    <!-- Key Facts -->
    <div class="lp-box">
      <h2 class="lp-box-heading">Key Facts</h2>
      <ul class="lp-list" id="facts"></ul>
    </div>

    <!-- Services -->
    <div class="lp-box-alt">
      <h2 class="lp-box-heading">Our Services</h2>
      <ul class="lp-list" id="services"></ul>
      <div class="lp-services-image"><img id="services-image" alt="Services"></div>
    </div>

    <!-- Profile -->
    <div class="lp-box">
      <h2 class="lp-box-heading">Judicial Scrivener</h2>
      <div class="lp-profile">
        <img id="profile-image" alt="Representative portrait">
        <div>
          <p><strong>Name:</strong> <span id="rep-name"></span></p>
          <p><strong>Qualification:</strong> <span id="rep-lic"></span></p>
          <p><strong>Registration No.:</strong> <span id="rep-num"></span></p>
        </div>
      </div>
    </div>

    <!-- FAQ -->
    <div class="lp-box-alt">
      <h2 class="lp-box-heading">Frequently Asked Questions</h2>
      <dl class="lp-faq-list" id="faq"></dl>
    </div>

    <!-- Access -->
    <div class="lp-box">
      <h2 class="lp-box-heading">Access</h2>
      <div class="lp-access-wrapper">
        <div class="lp-map"><iframe id="map" width="100%" height="300" style="border:0;" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe></div>
        <div class="lp-access-info">
          <p><strong>Address</strong> <span id="addr"></span></p>
          <p><strong>Phone</strong> <span id="tel"></span></p>
          <p><strong>Business Hours</strong> <span id="hours"></span></p>
          <p><strong>Nearest Station</strong> <span id="nearest"></span></p>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="lp-cta lp-final-cta">
    <h2>Get in touch today</h2>
    <p class="lp-cta-lead">Contact us via phone or email</p>
    <div class="lp-cta-buttons">
      <a class="cta-button" id="cta-call" href="#">Call Us</a>
      <a class="cta-button primary" id="cta-mail" href="#">Send Email</a>
    </div>
  </section>

  <!-- JSON Loader -->
  <script>
    (async () => {
      const q = new URLSearchParams(location.search);
      const dataPath = q.get('data') ? 'data/' + q.get('data') : 'config.json';
      const conf = await fetch(dataPath, {cache:'no-cache'}).then(r => r.json());

      // theme
      if (conf.branding?.accentColor) document.documentElement.style.setProperty('--accent', conf.branding.accentColor);
      if (conf.site?.themeColor) document.getElementById('meta-theme').setAttribute('content', conf.site.themeColor);

      // meta / og
      const T = conf.site?.title || 'LP';
      const D = conf.site?.description || '';
      const C = conf.site?.canonical || location.href;
      document.title = T;
      document.getElementById('meta-title').textContent = T;
      document.getElementById('meta-desc').setAttribute('content', D);
      document.getElementById('meta-canonical').setAttribute('href', C);
      document.getElementById('og-title').setAttribute('content', T);
      document.getElementById('og-desc').setAttribute('content', D);
      document.getElementById('og-url').setAttribute('content', C);
      document.getElementById('og-image').setAttribute('content', conf.site?.ogImage || '/assets/images/hero.jpg');

      // hero
      document.getElementById('hero-headline').textContent = conf.hero?.headline || '';
      document.getElementById('hero-sub').textContent = conf.hero?.sub || '';
      document.getElementById('hero-image').src = conf.hero?.image || '/assets/images/hero.jpg';

      // logo
      if (conf.branding?.logo) {
        const lg = document.getElementById('logo');
        lg.src = conf.branding.logo; lg.classList.remove('hidden');
      }

      // facts
      const facts = [
        ['Business Name', conf.business?.name],
        ['Languages', (conf.business?.languages || []).join(' / ')],
        ['Phone', conf.contact?.phoneDisplay],
        ['Established', conf.business?.established],
      ].filter(x => x[1]);
      document.getElementById('facts').innerHTML = facts.map(x => `<li><strong>${x[0]}:</strong> ${x[1]}</li>`).join('');

      // profile
      document.getElementById('profile-image').src = conf.branding?.profileImage || '/assets/images/profile.jpg';
      document.getElementById('rep-name').textContent = conf.business?.license?.name || '';
      document.getElementById('rep-lic').textContent = conf.business?.license?.title || '';
      document.getElementById('rep-num').textContent = conf.business?.license?.number || '';

      // services
      document.getElementById('services').innerHTML = (conf.services || []).map(s => `<li>${s}</li>`).join('');
      document.getElementById('services-image').src = conf.branding?.servicesImage || '/assets/images/services.jpg';

      // faq
      document.getElementById('faq').innerHTML = (conf.faq || []).map(f => `
        <dt class="faq-question">${f.q}</dt>
        <dd class="faq-answer" style="display:none">${f.a}</dd>`).join('');

      // access
      document.getElementById('addr').textContent   = conf.access?.address || '';
      document.getElementById('tel').textContent    = conf.access?.phone || '';
      document.getElementById('hours').textContent  = conf.access?.hours || '';
      document.getElementById('nearest').textContent= conf.access?.nearest || '';
      document.getElementById('map').src            = conf.access?.mapEmbed || '';

      // CTA
      document.getElementById('cta-call').href = 'tel:' + (conf.contact?.phoneHref || '');
      document.getElementById('cta-mail').href = 'mailto:' + (conf.contact?.email || '');

      // FAQ toggle
      document.addEventListener('click', (e) => {
        if (e.target.matches('.faq-question')) {
          const ans = e.target.nextElementSibling;
          ans.style.display = ans.style.display === 'block' ? 'none' : 'block';
        }
      });

      // JSON-LD (FAQ)
      if (conf.faq?.length) {
        const ld = {
          "@context":"https://schema.org",
          "@type":"FAQPage",
          "mainEntity": conf.faq.map(f => ({
            "@type":"Question",
            "name": f.q,
            "acceptedAnswer": {"@type":"Answer","text": f.a}
          }))
        };
        const s = document.createElement('script');
        s.type = 'application/ld+json'; s.textContent = JSON.stringify(ld);
        document.body.appendChild(s);
      }
    })();
  </script>
</body>
</html>
